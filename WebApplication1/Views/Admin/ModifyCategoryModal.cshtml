@model Category

@using (Html.BeginForm("ModifyCategoryModal", "Admin", FormMethod.Post, new {id = "ModifyCategoryForm"}))
{
    <div>
        <!-- Modal -->
        <div class="modal fade" id="ModifyCategoryModal" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content modalContentCategoryStyle">
                    <div class="modal-header modalHeaderStyle">
                        <h4 class="modal-title"><b>Редактировать категорию</b></h4>
                    </div>

                    <div class="modal-body">
                        <span id="errorMessage" style="color: red; margin-left: 76px;"></span>
                        <div class="form-group">
                            <input id="CategoryId" name="CategoryId" type="hidden" class="form-control" placeholder="Назва категорії" hidden/>
                            <input id="ModifyCategoryNameRus" name="NameRus" type="text" class="form-control modifyCategoryNameRusbtn" placeholder="Название категории"/>
                            <input id="Priority" type="number" name="Priority" min="1" max="999" value="1" class="priorityCategoryBtn">
                            <input id="ModifyCategoryNameUkr" name="NameUkr" type="text" class="form-control modifyCategoryNameUkrBtn" placeholder="Назва категорії"/>
                        </div>
                        <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                    </div>
                    <!--<div class="modal-footer"></div>-->
                    <button id="cancelBtn" type="button" class="btn btn-default cancelBtn"  data-dismiss="modal">
                        <b>Отмена</b>
                    </button>

                    <button type="submit" id="ModifyCategory" class="btn btn-default submitBtn" style="">
                        <b>Изменить</b>
                    </button>
                    <p><img style="position: absolute; bottom: 0; right: 0" src=@Url.Content("~/Content/Images/Controls/Admin/bg-alert-edit.png") />
                    </p>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            $(document).ready(function() {
                function CheckField(element, event) {
                    if (element.val().trim() == "") {
                        event.preventDefault();
                        element.addClass("errorStyle");
                        $("#errorMessage").text("Выделенные поля должны быть заполнены");
                    }
                }

                $("#ModifyCategoryNameRus, #ModifyCategoryNameUkr").change(function() {
                    if ($(this).val() != "") {
                        $(this).removeClass("errorStyle");
                        $("#errorMessage").text("");
                    }
                });

                $("#ModifyCategoryForm").submit(function(event) {
                    CheckField($("#ModifyCategoryNameRus"), event);
                    CheckField($("#ModifyCategoryNameUkr"), event);
                });

                $("#cancelBtn").click(function() {
                    $("#errorMessage").text("");
                });

            });
        </script>

    </div>


}